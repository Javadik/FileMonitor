	Обработка прямого эфира
1) Программа отслеживает появление прямого эфира в итоговых файлах вида full_playing_дата_время.xml, которые сама же и создает. Отслеживание начинается в файле по времени ТЕКУЩЕЕ -1 ЧАС и более поздние, это нужно, чтобы файл записи эфира был полностью сформирован, а так же, если эфир прийдется на стык 2х таких файлов, чтобы следующий так же уже существовал.
1-1)Обработанные файлы заносятся в список.
2) Для отслеживания в программе добавляется редактируемое поле, в котором находятся ключевая фраза, по которой будет происходить поиск в файлах full_playing_ (по дефолту "прямой эфир")
3)При обнаружении такой фразы в файле full_playing_...  программа проходит все последовательные блоки с данным материалом (прямым эфиром)(каждый блок - строка в файле) и запоминает последнюю строку с найденным вхождением поисковой фразы. (Изучая конкретные примеры файлов - таких последовательных строк - блоков оказывалось 7-8 подряд). Кроме того запоминается элемент в поле <NAME> - так в результате будет называться наш файл прямого эфира.
4)Из найденного набора строк берется первая, в ней элемент <START_TIME>, как наиболее близкий по времени к имени (время так же) файла эфира.
5)К найденному времени округленному до минут добавляется +- по 1 минуте и в этом 3х минутном интервале ищется файл с таким временным именем в папке указанной в программе, как "копировать в", находящийся напротив и относящийся к папке "папка логгера", как ее копия. Точнее в её подпапке с датой полученной из тега <START_DATE>
6)При нахождении такого файла, он переименовывается в имя тега <NAME>, найденное раньше в файле full_playing_. Об этом событии указывается в информационном дашборде программы. Если такой файл не будет найден, так же оповещение в дашборде.
6-1)Упорядочивание по поиску:  Информация об обработке заносится в соответствующий список:
	имя текущего файла (full_playing_дата_время.xml), старт тайм (<START_TIME> из п.4) , имя <NAME> (с ключевой найденной фразой из п.3),признак обработки.
	Если в этом  списке уже есть запись, со временем, отличающимся не более чем на 2 мин и с таким же именем, запись не заносится.
6-2)Если у нас в день (а это отдельная папка с датой) у нас встречается несколько эфиров, и ранее там уже есть переименованный файл, с таким же названием (из <NAME>), к новому  файлу добавляется окончание _i, где i число.
7)Далее программа продолжает обработу текущего файла full_playing_... до его конца, хотя вряд ли еще в этом файле встретятся блоки еще одного прямого эфира. Если же это произойдет, обращаемся к п.3 данного алгоритма. По окончании обработки файл заносится в список обработанных.
8)Далее программа ожидает появления нового файла  full_playing_... по времени следующим за ТЕКУЩЕЕ -1 ЧАС, обработка повторяется с п.3
9)Обрабатывается случай, когда эфир прийдется на стык 2х таких файлов - обработка переходит на следующий файл full_playing_....
Это происходит автоматически, через проверку по списку (см пункт 6-1)
10--)Если файл full_playing_... последний раз был записан больше 24ч назад , он удаляется.
11) )Запоминает на диске при выходе из программы, и подхватывает при старте списки обработанных файлов full_playing_дата_время.xml и найденных вхождениях, списки из 1-1) - processed_files.txt и 6-1) - found_occurrences.txt 
12) В дашборд сейчас добавляется очень подробная информация по работе данного блока, после обкатки останется самая необходимая



todo
=v40
+)Запоминать на диске, подхватывать при старте списки об обработанных файлах full_playing_дата_время.xml и найденных вхождениях
)Закомментить автостарт


# Описание функциональности класса LiveBCast

1. **Мониторинг XML-файлов** — Класс непрерывно сканирует указанную папку на наличие файлов с шаблоном имени `full_playing_*.xml`, которые были изменены более 1 минуты назад.
2. **Поиск ключевого слова** — В XML-файлах ищет вхождения заданного ключевого слова (по умолчанию "прямой эфир") в элементах `<NAME>`.
3. **Разделение на блоки** — Разделяет содержимое XML-файлов на логические блоки по комментариям `<!-- -->` для отдельной обработки каждого блока.
4. **Пропуск последовательных вхождений** — При нахождении блока с ключевым словом пропускает все последующие блоки, содержащие это же ключевое слово, чтобы избежать дублирования.
5. **Извлечение времени эфира** — Извлекает время начала эфира из элементов `<START_TIME>`, при необходимости ищет его в соседних XML-элементах.
6. **Парсинг времени в разных форматах** — Поддерживает два формата времени: `HH:mm:ss` (с использованием даты из `<START_DATE>`) и `yyyyMMdd_HHmmss`.
7. **Округление времени** — Округляет время начала эфира до минут для точного сопоставления с аудиофайлами.
8. **Поиск MP3-файлов** — Ищет соответствующие MP3-файлы в папке копирования в 3-минутном интервале вокруг времени эфира (±1 минута).
9. **Переименование файлов** — Переименовывает найденные MP3-файлы, используя имя из элемента `<NAME>` с ключевым словом, с генерацией уникальных имён при конфликтах.
10. **Проверка дубликатов** — Проверяет найденные вхождения на дубликаты по имени и времени (допускается разница до 2 минут).
11. **Сохранение состояния** — Сохраняет список найденных вхождений и обработанных файлов в текстовые файлы (`found_occurrences.txt` и `processed_files.txt`) для восстановления после перезапуска.
12. **Загрузка сохранённых данных** — При инициализации загружает ранее сохранённые данные для продолжения работы без потери прогресса.
13. **Управление мониторингом** — Предоставляет методы [`StartMonitoring()`](LiveBCast.cs:127) и [`StopMonitoring()`](LiveBCast.cs:123) для управления циклом мониторинга с асинхронным ожиданием между проверками (60 секунд).
14. **Обработка исключений** — Обрабатывает ошибки доступа к файлам, ошибки парсинга XML и другие исключения с логированием в дашборд через [`RichTextBox`](LiveBCast.cs:36).
15. **Вывод отладочной информации** — Отображает подробную информацию о ходе обработки, найденных вхождениях и статусе операций в дашборд приложения.
